<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Black Horse Wash - Application</title>
<link rel="manifest" href="manifest.json">
<style>
body { margin:0; padding:0; font-family:Arial,sans-serif; background:#f5f5f5; color:#000; }
header { display:flex; align-items:center; justify-content:center; background:#000; padding:15px 20px; position:relative; }
header img { height:120px; width:auto; }
.cart-summary { position:absolute; right:20px; top:20px; color:#fff; cursor:pointer; font-weight:bold; }

main { padding:20px; margin-bottom:70px; }
section { display:none; padding:20px; background:#fff; border-radius:12px; box-shadow:0 4px 8px rgba(0,0,0,0.1); }
section.active { display:block; }
h1,h2 { margin-bottom:15px; text-align:center; }

.products-grid, .services-grid, .abonnement-grid { 
  display:grid; grid-template-columns:repeat(auto-fit,minmax(150px,1fr)); gap:15px; 
}
.product-item, .service-item, .abonnement-item { 
  text-align:center; border-radius:12px; padding:10px; box-shadow:0 2px 5px rgba(0,0,0,0.1); background:#fff; 
}
.product-item img, .service-item img { 
  width:100%; height:180px; object-fit:cover; border-radius:8px; 
}
.abonnement-item img { 
  width:100%; height:120px; object-fit:cover; border-radius:8px; 
}

.profile-grid { display:grid; grid-template-columns:1fr 1fr; gap:15px; }
.profile-grid input { width:100%; padding:8px; border-radius:6px; border:1px solid #ccc; }

.progress-container { background:#eee; border-radius:12px; overflow:hidden; margin-top:10px; }
.progress-bar { height:20px; width:0%; background:#000; text-align:center; color:#fff; line-height:20px; }

.photo-comparison { display:flex; flex-direction:row; gap:10px; margin-top:10px; }
.photo-comparison img { width:48%; height:auto; border-radius:8px; }

/* Bottom navigation - redesigned */
.bottom-nav { position:fixed; left:50%; transform:translateX(-50%); bottom:18px; background:linear-gradient(135deg,#111, #222); padding:8px 14px; border-radius:40px; display:flex; gap:18px; align-items:center; box-shadow:0 8px 20px rgba(0,0,0,0.25); z-index:110; }
.bottom-nav .nav-item { color:#fff; text-decoration:none; text-align:center; font-size:12px; display:flex; flex-direction:column; align-items:center; gap:6px; width:56px; padding:6px 4px; border-radius:12px; transition:transform .18s ease, background .18s ease; }
.bottom-nav .nav-item img { width:28px; height:28px; border-radius:6px; object-fit:cover; }
.bottom-nav .nav-item.active { background:rgba(212,175,55,0.12); transform:translateY(-4px) scale(1.03); box-shadow:0 6px 12px rgba(0,0,0,0.25); }
.bottom-nav .nav-item .label { font-size:11px; line-height:1; }

/* Floating FAB-style "Plus" button */
.fab-more { width:44px; height:44px; border-radius:50%; background:#d4af37; display:flex; align-items:center; justify-content:center; color:#000; font-weight:700; box-shadow:0 8px 16px rgba(0,0,0,0.25); cursor:pointer; }

/* Modal/panel for additional links */
.more-modal { position:fixed; left:50%; transform:translateX(-50%) translateY(10px) scale(.98); bottom:86px; width:92%; max-width:420px; background:#fff; border-radius:12px; padding:12px; box-shadow:0 14px 40px rgba(0,0,0,0.28); z-index:120; opacity:0; visibility:hidden; transition:transform .26s cubic-bezier(.22,.9,.26,1), opacity .22s ease; transform-origin:50% 100%; }
.more-modal.open { opacity:1; visibility:visible; transform:translateX(-50%) translateY(0) scale(1); }
.more-modal h3 { margin:0 0 8px 0; }
.more-modal .more-list { display:flex; gap:10px; flex-wrap:wrap; }
.more-modal .more-list a { flex:1 1 45%; background:#f7f7f7; padding:10px; border-radius:8px; text-align:center; text-decoration:none; color:#111; transition:background .12s ease, transform .12s ease; }
.more-modal .more-list a:active { transform:translateY(1px); }

/* allow svg sizing in nav */
.bottom-nav .nav-item svg { width:28px; height:28px; display:block; }
.bottom-nav .nav-item { color:#fff; }
.bottom-nav .nav-item.active svg { fill:#d4af37; }

@media(max-width:480px){
  .bottom-nav { width:calc(100% - 36px); left:18px; transform:none; border-radius:12px; }
}

#home img { width:100%; max-width:350px; height:auto; display:block; margin:0 auto; border-radius:12px; }

/* Titre principal */
#home h1 {
  font-family: 'Cinzel', serif;
  font-size: 3rem;
  color: #ffffff;
  text-align: center;
  letter-spacing: 3px;
  font-weight: 700;
  text-transform: uppercase;
  margin-top: 30px;
  margin-bottom: 50px;
  position: relative;
  display: block;
  z-index: 10;
  -webkit-text-stroke: 1.5px #200f6cd4;
  text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.3);
}
#home h1::after {
  content: "";
  display: block;
  width: 80px;
  height: 4px;
  background-color: #d4af37;
  margin: 10px auto 0;
  border-radius: 2px;
}

@media(max-width:768px){ 
  .profile-grid { grid-template-columns:1fr; } 
  .photo-comparison { flex-direction:column; } 
}
@media(max-width:480px){
  .services-grid img, .products-grid img { height:140px; }
  .abonnement-grid img { height:100px; }
}
</style>
</head>
<body>

<header>
  <img src="image/logo.jpg" alt="Logo Black Horse Wash">
  <div class="cart-summary" onclick="alert('Panier: '+cartCount+' produits')">Panier: <span id="cart-count">0</span></div>
</header>

<main>
  <!-- ACCUEIL -->
  <section id="home" class="active">
    <h1>Black Horse Wash</h1>
    <img src="image/CarWash.jpg" alt="Car Wash">
  </section>

  <!-- PROFIL -->
  <section id="profil">
    <h2>Profil Client</h2>
    <div class="profile-grid">
      <div><label>Nom</label><input type="text" placeholder="Nom du client"></div>
      <div><label>Véhicule</label><input type="text" placeholder="Modèle du véhicule"></div>
      <div><label>Adresse</label><input type="text" placeholder="Adresse"></div>
      <div><label>Prochain RDV</label><input type="datetime-local"></div>
      <div><label>Abonnement</label><input type="text" placeholder="Nom de l'abonnement choisi"></div>
      <div><label>Points fidélité</label>
        <div class="progress-container"><div class="progress-bar" style="width:40%;">40 pts</div></div>
      </div>
    </div>
  </section>

  <!-- SERVICES -->
  <section id="services">
    <h2>Services</h2>
    <div class="services-grid">
      <div class="service-item"><img src="image/interieur-voiture.jpg" alt="Intérieur Voiture"><h3>Intérieur Voiture</h3><p>20€</p></div>
      <div class="service-item"><img src="image/exterieur-voiture.jpg" alt="Extérieur Voiture"><h3>Extérieur Voiture</h3><p>15€</p></div>
      <div class="service-item"><img src="image/lavage-les-2.jpg" alt="Nettoyage Complet"><h3>Nettoyage Complet</h3><p>30€</p></div>
    </div>
  </section>

  <!-- PRODUITS -->
  <section id="products">
    <h2>Produits à la vente</h2>
    <div class="products-grid">
      <div class="product-item"><img src="image/shampoo-car.jpg" alt="Shampooing"><h3>Shampooing</h3><p>10 €</p><button onclick="addToCart('Shampooing')">Ajouter au panier</button></div>
      <div class="product-item"><img src="image/lustrant-voiture.jpg" alt="Lustrant"><h3>Lustrant</h3><p>15 €</p><button onclick="addToCart('Lustrant')">Ajouter au panier</button></div>
      <div class="product-item"><img src="image/micro-fibre.jpg" alt="Microfibre"><h3>Microfibre</h3><p>5 €</p><button onclick="addToCart('Microfibre')">Ajouter au panier</button></div>
    </div>
  </section>

  <!-- RDV -->
  <section id="rdv">
    <h2>Demande de RDV</h2>
    <label>Client</label><input type="text">
    <label>Véhicule</label><input type="text">
    <label>Service demandé</label>
    <select>
      <option>Intérieur Voiture</option>
      <option>Extérieur Voiture</option>
      <option>Nettoyage Complet</option>
      <option>Options (Siège bébé, poils animaux)</option>
    </select>
    <label>Paiement</label>
    <select>
      <option>Carte bancaire</option>
      <option>Espèces</option>
      <option>PayPal</option>
    </select>
    <button>Réserver</button>
  </section>

  <!-- AVANCÉ -->
  <section id="avance">
    <h2>Avancement du RDV</h2>
    <div class="progress-container"><div class="progress-bar" style="width:50%;">50%</div></div>
    <h3>Photos Avant / Après</h3>
    <div class="photo-comparison">
      <div><p>Avant</p><img src="image/shampoo-car.jpg" alt="Avant"></div>
      <div><p>Après</p><img src="image/lustrant-voiture.jpg" alt="Après"></div>
    </div>
    <p>Nom du professionnel : Jean Dupont</p>
  </section>

  <!-- MAPS -->
  <section id="maps">
    <h2>Maps</h2>
    <iframe src="https://maps.google.com/maps?q=Paris&t=&z=13&ie=UTF8&iwloc=&output=embed" style="width:100%;height:300px;border:0;border-radius:12px;"></iframe>
  </section>

  <!-- ABONNEMENTS -->
  <section id="abonnements">
    <h2>Abonnements</h2>
    <div class="abonnement-grid">
      <div class="abonnement-item"><img src="image/abonnement-basic.jpg" alt="Basic"><p>Basic - 10€</p></div>
      <div class="abonnement-item"><img src="image/abonnement-medium.jpg" alt="Medium"><p>Medium - 20€</p></div>
      <div class="abonnement-item"><img src="image/abonnement-premium.jpg" alt="Premium"><p>Premium - 30€</p></div>
    </div>
  </section>
</main>

<!-- NAVIGATION (redesign) -->
<nav class="bottom-nav" role="navigation" aria-label="Navigation principale">
  <a href="#" class="nav-item" data-target="home" onclick="showSection('home');return false;" aria-label="Accueil">
    <!-- Home SVG -->
    <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M12 3l9 7v8a1 1 0 0 1-1 1h-5v-6H9v6H4a1 1 0 0 1-1-1V10l9-7z"></path></svg>
    <span class="label">Accueil</span>
  </a>
  <a href="#" class="nav-item" data-target="services" onclick="showSection('services');return false;" aria-label="Services">
    <!-- Services / Tools SVG -->
    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false"><path fill="currentColor" d="M21.7 13.35l-2.9-2.9a6 6 0 0 0-7.06-7.06l-2.9 2.9 9.96 9.96 2.9-2.9a1 1 0 0 0 0-1.99zM3 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-.76L10.1 18.9 5.1 13.9 3.9 17.9A1 1 0 0 0 3 19v2z"></path></svg>
    <span class="label">Services</span>
  </a>
  <a href="#" class="nav-item" data-target="products" onclick="showSection('products');return false;" aria-label="Produits">
    <!-- Bag / Products SVG -->
    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false"><path fill="currentColor" d="M6 2h12l1.6 4H4.4L6 2zM5 8h14v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8zm6 2a3 3 0 0 1 3 3h-2a1 1 0 1 0-2 0H8a3 3 0 0 1 3-3z"></path></svg>
    <span class="label">Produits</span>
  </a>
  <a href="#" class="nav-item" data-target="rdv" onclick="showSection('rdv');return false;" aria-label="Réserver">
    <!-- Calendar / RDV SVG -->
    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false"><path fill="currentColor" d="M7 10h10v6H7v-6zm8-6h2v2h-2V4zM9 4h2v2H9V4zM3 8h18v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8z"></path></svg>
    <span class="label">RDV</span>
  </a>
  <a href="#" class="nav-item" data-target="profil" onclick="showSection('profil');return false;" aria-label="Profil">
    <!-- User / Profile SVG -->
    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false"><path fill="currentColor" d="M12 12a4 4 0 1 0-4-4 4 4 0 0 0 4 4zm0 2c-4 0-7 2-7 4v2h14v-2c0-2-3-4-7-4z"></path></svg>
    <span class="label">Profil</span>
  </a>
  <div class="fab-more" role="button" aria-label="Plus" onclick="toggleMore();">+</div>
</nav>

<!-- More modal: regroupe les sections moins utilisées -->
<div id="more-modal" class="more-modal" aria-hidden="true">
  <h3>Plus</h3>
  <div class="more-list">
    <a href="#" onclick="showSection('avance');toggleMore();return false;">Avancement</a>
    <a href="#" onclick="showSection('maps');toggleMore();return false;">Maps</a>
    <a href="#" onclick="showSection('abonnements');toggleMore();return false;">Abonnements</a>
    <a href="#" onclick="document.getElementById('more-modal').classList.remove('open');document.getElementById('more-modal').setAttribute('aria-hidden','true');return false;">Fermer</a>
  </div>
</div>

<footer>© 2025 Black Horse Wash</footer>

<script>
let cartCount = 0;
function addToCart(productName){
  cartCount++;
  document.getElementById('cart-count').textContent = cartCount;
  alert(productName + " ajouté au panier !");
}
function showSection(id){
  // Affiche la section demandée (single-page behavior)
  document.querySelectorAll('main section').forEach(sec => sec.classList.remove('active'));
  const target = document.getElementById(id);
  if(target) target.classList.add('active');

  // Met à jour l'état actif du menu
  document.querySelectorAll('.bottom-nav .nav-item').forEach(item => {
    const isActive = item.dataset && item.dataset.target === id;
    item.classList.toggle('active', isActive);
  });

  // Ferme le panneau "Plus" si ouvert
  const more = document.getElementById('more-modal');
  if(more && more.classList.contains('open')){ more.classList.remove('open'); more.setAttribute('aria-hidden','true'); }
}

function toggleMore(){
  const more = document.getElementById('more-modal');
  if(!more) return;
  const wasOpen = more.classList.contains('open');
  if (wasOpen) {
    // Closing the modal: ensure no element inside remains focused (accessibility)
    const active = document.activeElement;
    if (more.contains(active)) {
      // move focus back to the FAB or to main content
      const fab = document.querySelector('.fab-more');
      if (fab) fab.focus();
      else if (document.getElementById('home')) document.getElementById('home').focus();
      else document.body.focus && document.body.focus();
    }

    more.classList.remove('open');
    more.setAttribute('aria-hidden','true');
    // Prefer using inert where supported to prevent focus; otherwise rely on aria-hidden
    try { more.inert = true; } catch(e) { /* inert may not be supported */ }
  } else {
    // Opening the modal
    more.classList.add('open');
    more.setAttribute('aria-hidden','false');
    try { more.inert = false; } catch(e) { }
    // Move focus to the first focusable element inside the modal for keyboard users
    const firstFocusable = more.querySelector('a, button, input, [tabindex]:not([tabindex="-1"])');
    if (firstFocusable) firstFocusable.focus();
  }
}

// Initialize active nav on load
document.addEventListener('DOMContentLoaded', () => {
  showSection('home');
});
  // Enregistrement du service worker
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('sw.js')
      .then(() => console.log("✅ Service Worker enregistré"))
      .catch(err => console.error("❌ Erreur SW:", err));
  }
</script>

</body>
</html>